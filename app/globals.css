@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  body {
    @apply bg-paper text-sketch-dark;
  }

  /* Smooth font rendering for handwritten fonts */
  * {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
}

@layer utilities {
  /* 스케치북 Sketch Border */
  .sketch-border {
    @apply border-2 border-sketch-dark rounded-lg;
    box-shadow: 3px 3px 0px rgba(0, 0, 0, 0.1);
  }

  .sketch-border-blue {
    @apply border-2 border-sketch-blue rounded-lg;
    box-shadow: 4px 4px 0px rgba(91, 143, 249, 0.3);
  }

  /* Sketch Button */
  .sketch-button {
    @apply px-6 py-3 bg-paper border-2 border-sketch-dark rounded-lg;
    @apply transition-all duration-200;
    @apply hover:translate-x-[-2px] hover:translate-y-[-2px];
    box-shadow: 3px 3px 0px rgba(0, 0, 0, 0.1);
  }

  .sketch-button:hover {
    box-shadow: 5px 5px 0px rgba(0, 0, 0, 0.15);
  }

  .sketch-button:active {
    @apply translate-x-[1px] translate-y-[1px];
    box-shadow: 1px 1px 0px rgba(0, 0, 0, 0.1);
  }

  /* Hand-drawn wobbly border effect */
  .hand-drawn-border {
    border: 4px solid transparent;
    background-image:
      linear-gradient(white, white),
      repeating-linear-gradient(45deg, #2B2B2B 0, #2B2B2B 10px, transparent 10px, transparent 20px);
    background-origin: border-box;
    background-clip: padding-box, border-box;
  }

  /* Crayon texture overlay */
  .crayon-texture {
    position: relative;
  }

  .crayon-texture::after {
    content: '';
    position: absolute;
    inset: 0;
    background-image:
      repeating-linear-gradient(90deg, transparent 0, transparent 1px, rgba(0,0,0,0.02) 1px, rgba(0,0,0,0.02) 2px),
      repeating-linear-gradient(0deg, transparent 0, transparent 1px, rgba(0,0,0,0.02) 1px, rgba(0,0,0,0.02) 2px);
    pointer-events: none;
    mix-blend-mode: multiply;
    border-radius: inherit;
  }

  /* Notebook lines background */
  .notebook-lines {
    background-image:
      repeating-linear-gradient(
        transparent,
        transparent 31px,
        rgba(91, 143, 249, 0.08) 31px,
        rgba(91, 143, 249, 0.08) 32px
      );
  }

  /* Torn paper edge effect */
  .torn-edge-top {
    -webkit-mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 10'%3E%3Cpath d='M0,5 Q5,0 10,5 T20,5 T30,5 T40,5 T50,5 T60,5 T70,5 T80,5 T90,5 T100,5 L100,10 L0,10 Z' fill='white'/%3E%3C/svg%3E");
    -webkit-mask-size: 100% 10px;
    -webkit-mask-position: top;
    -webkit-mask-repeat: repeat-x;
    padding-top: 10px;
  }

  /* Scribble underline effect */
  .scribble-underline {
    position: relative;
  }

  .scribble-underline::after {
    content: '';
    position: absolute;
    bottom: -4px;
    left: -2px;
    right: -2px;
    height: 8px;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 10'%3E%3Cpath d='M0,5 Q5,3 10,5 T20,5 T30,5 T40,5 T50,5 T60,5 T70,5 T80,5 T90,5 T100,5' stroke='%235B8FF9' stroke-width='2' fill='none' opacity='0.3'/%3E%3C/svg%3E");
    background-repeat: repeat-x;
    background-size: 100px 10px;
  }

  /* Gentle wiggle for playful feel */
  .wiggle-gentle {
    animation: wiggle-gentle 3s ease-in-out infinite;
  }

  @keyframes wiggle-gentle {
    0%, 100% { transform: rotate(-0.5deg); }
    50% { transform: rotate(0.5deg); }
  }

  /* Subtle float animation */
  .float-gentle {
    animation: float-gentle 4s ease-in-out infinite;
  }

  @keyframes float-gentle {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-4px); }
  }

  /* Hand-drawn circle highlight */
  .circle-highlight {
    position: relative;
  }

  .circle-highlight::before {
    content: '';
    position: absolute;
    inset: -8px;
    border: 3px solid currentColor;
    border-radius: 50%;
    opacity: 0.2;
  }
}

/* Animation keyframes */
@keyframes wobble {
  0%, 100% { transform: rotate(0deg); }
  25% { transform: rotate(1deg); }
  50% { transform: rotate(0deg); }
  75% { transform: rotate(-1deg); }
}

@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-8px); }
}

/* Custom Scrollbar (스케치북 style) */
::-webkit-scrollbar {
  width: 10px;
}

::-webkit-scrollbar-track {
  background: #FFF9E6;
  border-radius: 10px;
}

::-webkit-scrollbar-thumb {
  background: #828282;
  border-radius: 10px;
  border: 2px solid #FFF9E6;
}

::-webkit-scrollbar-thumb:hover {
  background: #2B2B2B;
}

/* Selection color */
::selection {
  background-color: rgba(91, 143, 249, 0.3);
  color: #2B2B2B;
}

::-moz-selection {
  background-color: rgba(91, 143, 249, 0.3);
  color: #2B2B2B;
}

/* Smooth transitions for all interactive elements */
button, a, input, select, textarea {
  transition: all 0.2s ease-in-out;
}

/* Focus styles for accessibility */
button:focus-visible,
a:focus-visible,
input:focus-visible,
select:focus-visible,
textarea:focus-visible {
  outline: 3px solid #5B8FF9;
  outline-offset: 2px;
  border-radius: 4px;
}
